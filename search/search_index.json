{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Blog","text":""},{"location":"2024/12/24/part-1-of-setting-up-my-homelab.html","title":"Part 1 of setting up my homelab","text":""},{"location":"2024/12/24/part-1-of-setting-up-my-homelab.html#introduction-and-motivation","title":"Introduction and Motivation","text":"<p>Since I acquired a SFF mini-PC for home lab purposes, I've installed Proxmox on it so I can run VMs and LXC containers easily. I also plugged all my USB hard drives and spare NVME SSDs to it, so now I have storage both for homelab experiments and home server purposes. For the latter I manually installed an OpenMediaVault on a VM and attached the physical HDDs to it, and set up SAMBA shares for home use and Time Machine backups for my Macs.</p> <p>Now it's time for me to start fooling around and set up the homelab. Since that may become a bit complicated I've decided that I will do the rest of the setup via automated processes using Ansible, Terraform, Packer and other tech, I'm already familiar with from my regular work.</p> <p>So the next step is to set up the minimal infrastructure required to run CI and  CD agents self hosted, and set up all my infra and configurations as a code to be provisioned via these agents.</p> <p>I decided to start with GitHub Actions, as I'm already familiar with it and I  don't have to host the management server myself, but I have the option to self-host the agents of any kind. This way I will not run out of the free tier of GitHub Actions Runners, but I still can use them.</p> <p>As a starting excersize I will set up a self-hosted GitHub Actions Runner VM on my Proxmox server and set up minimal CI/CD for the infrastructure and configuration management code.</p> <p>After that I will set up a small k3s cluster which will host the final Github Actions Runners via the Github ARC Operator (at least that's the plan) and migrate my CI/CD workflows to it. Maybe I will also set up Windows VMs as well for self-hosted agents, but for now I only need Linux runners.</p> <p>Recently I also started using Mise-en-place to manage and pin the tool versions I need to use for individual projects, so that helps me a lot to maintain all my PET projects in a monorepo and still be using different versions of the same tools when needed.</p>"},{"location":"2024/12/24/part-1-of-setting-up-my-homelab.html#todo","title":"ToDo","text":"<ul> <li> Set up a Github Actions runner VM in Proxmox</li> <li> Set up MkDocs for building and publishing the documentation and the necrolog blog posts about the process</li> <li> Set up a k3s cluster that's managed by code and maintained via GitOps</li> <li> Set up Github Actions Runners in the k3s cluster</li> <li> Migrate CI/CD workflows to the k3s cluster using the GH ARC Operator</li> </ul>"},{"location":"2024/12/24/part-1-of-setting-up-my-homelab.html#setting-up-the-github-actions-runner-vm","title":"Setting up the Github Actions Runner VM","text":""},{"location":"2024/12/24/part-1-of-setting-up-my-homelab.html#installing-ubuntu-2404-lts","title":"Installing Ubuntu 24.04 LTS","text":"<p>As first step I've created a new VM in Proxmox with the following specs:</p> <ul> <li>2 CPU cores</li> <li>4 GB RAM</li> <li>64 GB HDD</li> <li>1 NIC</li> </ul> <p>And installed Ubuntu 24.04 LTS on it using the ISO image and default configurations.</p>"},{"location":"2024/12/24/part-1-of-setting-up-my-homelab.html#setting-up-the-github-actions-runner","title":"Setting up the Github Actions Runner","text":"<p>After this I've navigated to my github repo's settings page to add a new self hosted runner. I followed the instructions to configure the runner, but I wanted to run the agent software as a service on the linux machine so I continued the process of  configuring and starting up the System-D service according to Github's official documentation instead of the instructions on the Adding new Self-hosted runner  wizzard page. </p> <p>And now I have my own self-hosted runner appeared in Github's page as well. To better identify the runner I did add some more labels on it, so I won't be running my actions workflows on the cloud runners provided by Github.</p> <p>I've added the following labels:</p> <ul> <li>proxmox</li> <li>home</li> <li>ubuntu2404</li> <li>vm</li> </ul> <p>That can be considered as done for now. Later I plan to decomission this VM since I want all my infrastructure to be set up and configured via code, but did this initial one manually.</p>"},{"location":"archive/2024.html","title":"2024","text":""},{"location":"category/necrolog.html","title":"necrolog","text":""},{"location":"category/howto.html","title":"howto","text":""},{"location":"category/homelab.html","title":"homelab","text":""}]}